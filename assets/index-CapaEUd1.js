import{aj as E,_ as F,r as d,ax as H,am as J,o as K,c as O,w as r,ay as Q,ak as W,A as q,az as X,ap as Y,b as u,f as o,h as a,n as _,a3 as T,t as y,a4 as M,N as Z,g as b,a9 as B,aA as $,aq as tt,ar as et,l as at,O as ot,aB as nt,V as st,aC as lt,a as it,x as ct,L as rt,C as ut,aD as dt,al as _t,at as pt,p as yt,j as mt}from"./index-RaQTBs99.js";/* empty css              */const ft=function(){return E.get("webs/hotBans/sideMenu")},D={setup(){const l=d("zhihu"),i=d([]),x=d(1),e=d(!1),V=d(!1),P=H(()=>V.value?"200px":"0px"),k=d();J(()=>{k.value=document.querySelector(".layui-body")});const m=d([]),f=async function(){const t=await ft();console.log(t),m.value=t.data,I(m.value[0].children[0])},C=d(1),w=function(t){V.value=t},I=function(t){C.value=t.id,l.value=t.sourceId,x.value=1,i.value=t.tabNames.map((n,p)=>({id:p+1,title:n,sourceId:t.sourceId,tabId:p+1})),c.value={total:100,limit:10,current:1},v(),w(!1)};function z(){c.value={total:100,limit:10,current:1},v()}const L="https://newsapi.redian.me/api/articles",j="https://img-1307712705.cos.ap-beijing.myqcloud.com/",c=d({total:100,limit:10,current:1}),h=d([]);function v(t){e.value=!0,console.log(m.value);let n=Date.now().toString(),p=$(20),G=Q("".concat(n).concat(p).concat("0eC7PICw8CdUNodJ"));W.get(L,{headers:{"x-timestamp":n,"x-api-key":p,"x-signature":G,"Content-Type":"application/json"},params:{source_id:l.value,tab_name:i.value.find(g=>g.tabId===x.value).title,page:c.value.current,pagesize:c.value.limit}}).then(g=>{e.value=!1,t===1?h.value=h.value.concat(g.data.data.list):h.value=g.data.data.list,c.value.total=g.data.data.pagination.total}).catch(()=>{e.value=!1})}function N(){if(c.value.total<=c.value.current*c.value.limit){q.msg("没有更多了",{time:1e3});return}c.value.current++,v(1)}const S=d("");function A(){q.load(2,{time:3e3})}function s(){S.value=""}return K(()=>{f()}),{menus:m,selected:C,currentPath:l,loadingA:e,target:k,imgUrlPrefix:j,handleClick:I,handleMenuOpen:w,handleTabChange:z,menuDisplay:P,currentTab:x,tabTitleList:i,articleList:h,page:c,searchTitle:S,toGetMore:N,toSearch:A,toReset:s}}},R=()=>{X(l=>({"3c890c24":l.menuDisplay}))},U=D.setup;D.setup=U?(l,i)=>(R(),U(l,i)):R;const ht=l=>(yt("data-v-c50e9da8"),l=l(),mt(),l),vt={class:"layui-menu layui-menu-lg layui-menu-docs"},gt={class:"layui-menu-body-title"},bt=ht(()=>a("hr",null,null,-1)),xt=["onClick"],kt={class:"layui-menu-body-title"},Ct={href:"javascript:void(0)"},wt={class:"layui-font-12 layui-font-gray"},It={class:"article-item"},St=["href"],Tt={class:"article-item-content"},Mt={style:{margin:"15px 0 15px"}},Vt={style:{"font-size":"14px",margin:"15px 30px"},class:"content-description"},zt={class:"content-start"},Lt={key:0,class:"content-start-item borderR"},jt={key:1,class:"content-start-item borderR"},Nt={key:2,class:"content-start-item"},At={class:"getmore"};function Bt(l,i,x,e,V,P){const k=tt,m=et,f=at,C=ot,w=nt,I=st,z=lt,L=it,j=ct,c=rt,h=ut,v=dt,N=_t,S=pt,A=Y;return u(),O(A,null,{default:r(()=>[o(m,{class:"layui-menu-ref-2"},{default:r(()=>[o(k,{style:{"overflow-y":"scroll"}},{default:r(()=>[a("ul",vt,[(u(!0),_(M,null,T(e.menus,s=>(u(),_("li",{key:s,class:"layui-menu-item-group","lay-options":"{type: 'group', isAllowSpread: true}"},[a("div",gt,y(s.title),1),bt,a("ul",null,[(u(!0),_(M,null,T(s.children,t=>(u(),_("li",{key:t,class:Z([e.currentPath===t.sourceId?"layui-menu-item-checked2":""]),onClick:n=>e.handleClick(t)},[a("div",kt,[a("a",Ct,[a("span",null,y(t.title),1),a("span",wt,y(t.subTitle),1)])])],10,xt))),128))])]))),128))])]),_:1})]),_:1}),o(N,{id:"bookMarkContent"},{default:r(()=>[a("div",{class:"layui-menu-toggle",style:{width:"auto !important",height:"auto !important",padding:"0 !important","padding-left":"8px"},onClick:i[0]||(i[0]=s=>e.handleMenuOpen(!0))},[o(f,{type:"layui-icon-menu-fill",style:{"font-size":"32px"}})]),a("div",{style:{padding:"20px"},onClick:i[2]||(i[2]=s=>e.handleMenuOpen(!1))},[o(c,{type:"brief",modelValue:e.currentTab,"onUpdate:modelValue":i[1]||(i[1]=s=>e.currentTab=s),onChange:e.handleTabChange,tabPosition:"top",class:"lay-tab-article"},{default:r(()=>[(u(!0),_(M,null,T(e.tabTitleList,(s,t)=>(u(),O(j,{key:t,id:s.id,title:s.title,sourceId:s.sourceId},{default:r(()=>[o(L,{fluid:!0,style:{padding:"10px"}},{default:r(()=>[o(z,{type:0,loading:e.loadingA},{default:r(()=>[o(I,{style:{"margin-top":"10px","border-radius":"5px"}},{default:r(()=>[(u(!0),_(M,null,T(e.articleList,(n,p)=>(u(),_("div",{key:p},[a("div",It,[a("a",{href:n.title_url,target:"_blank",rel:"noopener noreferrer",class:"block"},[a("div",Tt,[a("div",Mt,[o(w,{size:40},{default:r(()=>[o(C,{position:"top-left",value:p+1,badgeStyle:{top:"7px"}},null,8,["value"])]),_:2},1024),b(" "+y(n.title),1)]),a("div",Vt,y(n.description),1),a("div",zt,[n.article_time?(u(),_("div",Lt,[o(f,{type:"layui-icon-date"}),b(" "+y(n.article_time),1)])):B("",!0),n.author_info?(u(),_("div",jt,[o(f,{type:"layui-icon-user"}),b(" "+y(n.author_info),1)])):B("",!0),n.hot_value?(u(),_("div",Nt,[o(f,{type:"layui-icon-fire"}),b(" "+y(n.hot_value),1)])):B("",!0)])])],8,St)])]))),128))]),_:2},1024)]),_:2},1032,["loading"])]),_:2},1024)]),_:2},1032,["id","title","sourceId"]))),128))]),_:1},8,["modelValue","onChange"])]),o(v,{style:{position:"fixed",bottom:"0",width:"100%","z-index":"1000",height:"60px",display:"flex","justify-content":"center","align-items":"center"}},{default:r(()=>[a("div",At,[o(h,{onClick:e.toGetMore},{default:r(()=>[b("加载更多")]),_:1},8,["onClick"])])]),_:1})]),_:1}),o(S,{target:"#bookMarkContent",showHeight:100,bottom:30,position:"absolute"})]),_:1})}const Ot=F(D,[["render",Bt],["__scopeId","data-v-c50e9da8"]]);export{Ot as default};
