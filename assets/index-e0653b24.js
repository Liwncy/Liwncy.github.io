import{d as D,r as m,v as I,a as U,c as z,w as e,b as t,f as a,g as r,t as d,R as v,T as y,J as B,K as L,M as W,a2 as $,H as K,a3 as H,V as J,P as Q,_ as Z}from"./index-2582b004.js";import{c as O}from"./index-c6bb29d7.js";import{a as X}from"./index-591901f8.js";/* empty css              */import{V as Y}from"./index-c5655dd7.js";import{y as ee,f as te}from"./index-cfb8024e.js";/* empty css              */import{j as oe}from"./index-c30b1bd1.js";import"./index2-834167d9.js";import"./index2-c3cc8f2f.js";const ae={class:"table-box"},le={class:"oneRow"},ne={class:"oneRow"},se={style:{padding:"20px"}},ie=D({__name:"index",setup(de){const c=m({userAccount:"",userName:"",rangeTime:["2001-01-01 01:01:00","2001-02-1 01:01:00"]});function k(){c.value={userAccount:"",userName:"",rangeTime:["2001-01-01 01:01:00","2001-02-1 01:01:00"]}}function P(){T.current=1,x(T)}const g=m(!1),M=m([]),T=I({current:1,limit:10,total:100}),A=m([{title:"账号",key:"account",sort:"desc"},{title:"用户名",key:"name",sort:"desc"},{title:"操作模块",key:"optionModule",sort:"desc"},{title:"操作功能",width:"180px",key:"optionFunction",sort:"desc"},{title:" 请求地址",width:"180px",key:"requestPath",sort:"desc",customSlot:"requestPath"},{title:"请求方式",key:"requestMethod"},{title:"状态",width:"100px",key:"status",customSlot:"status"},{title:"耗时",key:"time",customSlot:"time"},{title:"登录时间",width:"180px",key:"joinTime"},{title:"操作",width:"100px",customSlot:"operator",key:"operator",fixed:"right"}]),x=i=>{g.value=!0,setTimeout(()=>{w.value=F(i.current,i.limit),g.value=!1},1e3)},V=(i,n)=>{B.msg(`字段${i} - 排序${n}, 你可以利用 sort-change 实现服务端排序`)},w=m([{id:"1",name:"管理员",account:"admin",optionModule:"登录日志",optionFunction:"分页查询登录日志",requestPath:"/api/system/login-record/page",requestMethod:"GET",time:"0.015",ipAddrees:"171.120.210.128",joinTime:"2022-02-09 15:09:34",status:"正常"},{id:"2",name:"用户1",account:"admin",optionModule:"用户管理",optionFunction:"分页查询用户",requestPath:"/api/system/user/page",requestMethod:"GET",time:"0.045",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"124.92.199.219"},{id:"3",account:"admin",name:"管理员",optionModule:"登录日志",requestMethod:"GET",requestPath:"/api/system/login-record/page",optionFunction:"分页查询登录日志",time:"0.027",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"39.155.212.237"},{id:"4",account:"admin",name:"用户2",optionModule:"菜单管理",requestPath:"/api/system/menu/page",requestMethod:"GET",optionFunction:"查询全部菜单",time:"2.397",joinTime:"2022-02-09 15:09:34",status:"失败",ipAddrees:"113.65.14.222"},{id:"5",account:"admin",name:"管理员",optionModule:"文件上传下载",requestPath:"/api/file/page",requestMethod:"GET",optionFunction:"分页查询文件",time:"0.016",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"113.128.81.221"},{id:"6",account:"admin",name:"管理员",optionModule:"文件上传下载",requestPath:"/api/file/page",requestMethod:"GET",optionFunction:"分页查询文件",time:"0.051",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"182.48.101.103"},{id:"7",account:"admin",name:"用户1",optionModule:"菜单管理",requestPath:"/api/system/menu/page",requestMethod:"GET",optionFunction:"查询全部菜单",time:"0.231",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"171.213.58.73"},{id:"8",account:"admin",name:"用户1",optionModule:"菜单管理",requestPath:"/api/system/menu/page",requestMethod:"GET",optionFunction:"查询全部菜单",time:"0.47",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"119.143.100.106"},{id:"9",account:"admin",name:"管理员",optionModule:"登录日志",requestMethod:"GET",requestPath:"/api/system/login-record/page",optionFunction:"分页查询登录日志",time:"0.015",joinTime:"2022-02-09 15:09:34",status:"失败",ipAddrees:"139.162.18.175"},{id:"10",account:"admin",name:"管理员",optionModule:"登录日志",requestMethod:"GET",requestPath:"/api/system/login-record/page",optionFunction:"分页查询登录日志",time:"0.015",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"14.215.245.130"}]),F=(i,n)=>{for(var _=[],p=(i-1)*n+1,o=i*n,f=p;f<=o;f++)_.push({id:`${f}`,optionModule:"登录日志",requestMethod:"GET",requestPath:"/api/system/login-record/page",optionFunction:"分页查询登录日志",account:"admin",status:"正常",name:"管理员",time:"0.015",joinTime:"2022-02-09 15:09:34",ipAddrees:"111.121.13.184"});return _},s=m({id:"0",optionModule:"",requestMethod:"",requestPath:"",optionFunction:"",account:"",status:"",name:"",time:"",joinTime:"",ipAddrees:""}),b=m(!1);function j(i){b.value=!0,s.value=i}return(i,n)=>{const _=L,p=W,o=ee,f=$,q=K,u=te,R=oe,C=Y,E=H,h=J,G=X,S=Q,N=O;return U(),z(N,{fluid:"true",class:"option-box"},{default:e(()=>[t(C,null,{default:e(()=>[t(R,{style:{"margin-top":"10px"}},{default:e(()=>[t(u,null,{default:e(()=>[t(o,{md:5},{default:e(()=>[t(p,{label:"用户账号","label-width":"80"},{default:e(()=>[t(_,{modelValue:c.value.userAccount,"onUpdate:modelValue":n[0]||(n[0]=l=>c.value.userAccount=l),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),t(o,{md:5},{default:e(()=>[t(p,{label:"用户名","label-width":"80"},{default:e(()=>[t(_,{modelValue:c.value.userName,"onUpdate:modelValue":n[1]||(n[1]=l=>c.value.userName=l),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),t(o,{md:8},{default:e(()=>[t(p,{label:"登录时间","label-width":"80"},{default:e(()=>[t(f,{size:"sm",modelValue:c.value.rangeTime,"onUpdate:modelValue":n[2]||(n[2]=l=>c.value.rangeTime=l),range:"",type:"datetime",placeholder:["开始日期","结束日期"]},null,8,["modelValue"])]),_:1})]),_:1}),t(o,{md:5},{default:e(()=>[t(p,{"label-width":"20"},{default:e(()=>[t(q,{style:{"margin-left":"20px"},type:"normal",size:"sm",onClick:P},{default:e(()=>[a(" 查询 ")]),_:1}),t(q,{size:"sm",onClick:k},{default:e(()=>[a(" 重置 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),r("div",ae,[t(G,{page:T,height:"100%",columns:A.value,loading:g.value,"default-toolbar":!0,"data-source":w.value,"selected-keys":M.value,"onUpdate:selectedKeys":n[3]||(n[3]=l=>M.value=l),onChange:x,onSortChange:V},{requestPath:e(({row:l})=>[t(E,{visible:!1,trigger:"hover",content:l.requestPath},{default:e(()=>[r("div",le,d(l.requestPath),1)]),_:2},1032,["content"])]),status:e(({row:l})=>[v(r("div",null,[t(h,{color:"#2dc570",variant:"light"},{default:e(()=>[a("正常")]),_:1})],512),[[y,l.status=="正常"]]),v(r("div",null,[t(h,{color:"#F5319D",variant:"light"},{default:e(()=>[a("失败")]),_:1})],512),[[y,l.status=="失败"]])]),time:e(({row:l})=>[r("div",ne,d(l.time)+"s",1)]),toolbar:e(()=>[]),operator:e(({row:l})=>[t(q,{size:"xs",border:"green","border-style":"dashed",onClick:ue=>j(l)},{default:e(()=>[a("详情")]),_:2},1032,["onClick"])]),_:1},8,["page","columns","loading","data-source","selected-keys"])]),t(S,{modelValue:b.value,"onUpdate:modelValue":n[4]||(n[4]=l=>b.value=l),title:"详情",area:["700px","450px"]},{default:e(()=>[r("div",se,[t(u,null,{default:e(()=>[t(o,{md:"4",class:"title"},{default:e(()=>[a("操作人")]),_:1}),t(o,{md:"8",class:"content"},{default:e(()=>[a(d(s.value.name+"("+s.value.account+")"),1)]),_:1}),t(o,{md:"4",class:"title"},{default:e(()=>[a("IP地址")]),_:1}),t(o,{md:"8",class:"content borderR"},{default:e(()=>[a(d(s.value.ipAddrees),1)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(o,{md:"4",class:"title"},{default:e(()=>[a("操作模块")]),_:1}),t(o,{md:"8",class:"content"},{default:e(()=>[a(d(s.value.optionModule),1)]),_:1}),t(o,{md:"4",class:"title"},{default:e(()=>[a("操作功能")]),_:1}),t(o,{md:"8",class:"content borderR"},{default:e(()=>[a(d(s.value.optionFunction),1)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(o,{md:"4",class:"title"},{default:e(()=>[a("操作时间")]),_:1}),t(o,{md:"8",class:"content"},{default:e(()=>[a(d(s.value.joinTime),1)]),_:1}),t(o,{md:"4",class:"title"},{default:e(()=>[a("请求耗时")]),_:1}),t(o,{md:"8",class:"content borderR"},{default:e(()=>[a(d(s.value.time)+"s",1)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(o,{md:"4",class:"title"},{default:e(()=>[a("请求方式")]),_:1}),t(o,{md:"8",class:"content"},{default:e(()=>[a(d(s.value.requestMethod),1)]),_:1}),t(o,{md:"4",class:"title"},{default:e(()=>[a("请求状态")]),_:1}),t(o,{md:"8",class:"content borderR"},{default:e(()=>[v(r("div",null,[t(h,{color:"#2dc570",variant:"light"},{default:e(()=>[a("正常")]),_:1})],512),[[y,s.value.status=="正常"]]),v(r("div",null,[t(h,{color:"#F5319D",variant:"light"},{default:e(()=>[a("失败")]),_:1})],512),[[y,s.value.status=="失败"]])]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(o,{md:"4",class:"title"},{default:e(()=>[a("请求地址")]),_:1}),t(o,{md:"20",class:"content borderR"},{default:e(()=>[a(d(s.value.requestPath),1)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(o,{md:"4",class:"title"},{default:e(()=>[a("调用方法")]),_:1}),t(o,{md:"20",class:"content borderR"},{default:e(()=>[a("com.eleadmin.common.system.controller.LoginRecordController.page")]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(o,{md:"4",class:"title"},{default:e(()=>[a("请求参数")]),_:1}),t(o,{md:"20",class:"content borderR"},{default:e(()=>[a('{"nickname":"","limit":"10","page":"1","username":""}')]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(o,{md:"4",class:"title borderB"},{default:e(()=>[a("返回结果")]),_:1}),t(o,{md:"20",class:"content borderR borderB"},{default:e(()=>[a('{"code":0,"message":"操作成功","data":{"list":[{"id":89548,"username":"admin","os":"Windows","device":"Windows 10 or Windows Server 2016","browser":"Chrome","ip":"113.128.81.221","loginType":3,"comments":null,"tenantId":4,"createTime":1689857372000,"updateTime":1689857372000,"userId":40,"nickname":"管理员"},{"id":89547,"username":"admin","os":"Win')]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),_:1})}}});const Te=Z(ie,[["__scopeId","data-v-405f4db6"]]);export{Te as default};
