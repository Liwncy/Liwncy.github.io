import{d as M,r as o,v as W,a as X,c as Y,w as l,b as e,f as i,g as _,N as ee,t as le,A as d,D as te,E as ae,y as oe,C as ie,h as ne,G as se,V as de,l as ue,J as re,m as ce,Z as me,K as fe,Q as pe,S as _e,i as ye,_ as ve}from"./index-Bu0du_C7.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */const ge={class:"table-box"},ke={style:{padding:"20px"}},he={style:{width:"100%","text-align":"center"}},xe={style:{height:"320px",overflow:"auto"}},be={style:{width:"90%","text-align":"right"}},Ve=M({__name:"index",setup(we){const r=o({roleName:"",identifying:"",mark:""});function S(){r.value={roleName:"",identifying:"",mark:""}}function K(){h.current=1,x()}const v=o(!1),g=o(),h=W({current:1,limit:10,total:4}),T=o([{title:"选项",width:"55px",type:"checkbox",fixed:"left"},{title:"编号",width:"80px",key:"id",fixed:"left",sort:"desc"},{title:"角色名称",width:"80px",key:"name",sort:"desc"},{title:"角色标识",width:"80px",key:"flage",sort:"desc"},{title:"备注",width:"260px",key:"remark",sort:"desc"},{title:"创建时间",width:"120px",key:"joinTime",sort:"desc"},{title:"操作",width:"150px",customSlot:"operator",key:"operator",fixed:"right"}]),x=s=>{v.value=!0,setTimeout(()=>{v.value=!1},1e3)},j=(s,t)=>{d.msg(`字段${s} - 排序${t}, 你可以利用 sort-change 实现服务端排序`)},$=o([{id:"1",name:"管理员",remark:"花开堪折直须折,莫待无花空折枝.",joinTime:"2022-02-09 16:35:07",flage:"admin"},{id:"2",name:"普通用户",remark:"花开堪折直须折,莫待无花空折枝.",joinTime:"2022-02-09 16:35:07",flage:"user"},{id:"3",name:"游客",remark:"花开堪折直须折,莫待无花空折枝.",joinTime:"2022-02-09 16:35:07",flage:"guser"}]),u=o({name:"",flage:"",remark:""}),R=o(),f=o(!1),b=o("新增"),V=(s,t)=>{if(b.value=s,t!=null){let c=JSON.parse(JSON.stringify(t));u.value=c}else u.value={name:"",flage:"",remark:""};f.value=!f.value};function B(){if(g.value.length==0){d.msg("您未选择数据，请先选择要删除的数据",{icon:3,time:2e3});return}d.confirm("您将删除所有选中的数据？",{title:"提示",btn:[{text:"确定",callback:s=>{d.msg("您已成功删除"),d.close(s)}},{text:"取消",callback:s=>{d.msg("您已取消操作"),d.close(s)}}]})}function w(){d.msg("保存成功！",{icon:1,time:1e3}),f.value=!1,p.value=!1}function C(){f.value=!1,p.value=!1}function J(){d.msg("您已成功删除")}function D(){d.msg("您已取消操作")}const p=o(!1),z=o([]),F=o(!0),O=o([{icon:"layui-icon-home",title:"工作空间",id:1,checked:!0,spread:!0,children:[{title:"工作台",icon:"layui-icon-util",id:3},{title:"控制台",icon:"layui-icon-engine",id:4,spread:!0},{title:"分析页",id:20,icon:"layui-icon-chart-screen"},{title:"监控页",id:21,icon:"layui-icon-find-fill"}]},{title:"表单页面",icon:"layui-icon-table",id:2,spread:!0,children:[{title:"基础表单",icon:"layui-icon-form",id:5,spread:!0},{title:"复杂表单",icon:"layui-icon-form",id:6}]},{title:"个人中心",icon:"layui-icon-slider",id:16,children:[{icon:"layui-icon-username",title:"我的资料",id:17,fixed:!0},{title:"我的消息",icon:"layui-icon-email",id:27}]},{title:"系统管理",icon:"layui-icon-set",id:19,children:[{icon:"layui-icon-user",title:"用户管理",id:25,fixed:!0},{title:"角色管理",icon:"layui-icon-group",id:29},{title:"机构管理",icon:"layui-icon-transfer",id:29}]}]);function Q(s){p.value=!0}return(s,t)=>{const c=te,m=ae,y=oe,n=ie,q=ne,U=se,A=de,k=ue,E=re,G=ce,I=me,N=fe,L=pe,P=_e,Z=ye;return X(),Y(Z,{fluid:"true",class:"role-box"},{default:l(()=>[e(A,null,{default:l(()=>[e(U,{style:{"margin-top":"10px"}},{default:l(()=>[e(q,null,{default:l(()=>[e(y,{md:5},{default:l(()=>[e(m,{label:"角色名称","label-width":"80"},{default:l(()=>[e(c,{modelValue:r.value.roleName,"onUpdate:modelValue":t[0]||(t[0]=a=>r.value.roleName=a),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(y,{md:5},{default:l(()=>[e(m,{label:"角色标识","label-width":"80"},{default:l(()=>[e(c,{modelValue:r.value.identifying,"onUpdate:modelValue":t[1]||(t[1]=a=>r.value.identifying=a),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(y,{md:5},{default:l(()=>[e(m,{label:"备注","label-width":"80"},{default:l(()=>[e(c,{modelValue:r.value.mark,"onUpdate:modelValue":t[2]||(t[2]=a=>r.value.mark=a),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(y,{md:5},{default:l(()=>[e(m,{"label-width":"20"},{default:l(()=>[e(n,{style:{"margin-left":"20px"},type:"normal",size:"sm",onClick:K},{default:l(()=>[i(" 查询 ")]),_:1}),e(n,{size:"sm",onClick:S},{default:l(()=>[i(" 重置 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),_("div",ge,[e(G,{page:h,height:"100%",columns:T.value,loading:v.value,"default-toolbar":!0,"data-source":$.value,"selected-keys":g.value,"onUpdate:selectedKeys":t[4]||(t[4]=a=>g.value=a),onChange:x,onSortChange:j},{toolbar:l(()=>[e(n,{size:"sm",type:"primary",onClick:t[3]||(t[3]=a=>V("新增",null))},{default:l(()=>[e(k,{class:"layui-icon-addition"}),i(" 新增")]),_:1}),e(n,{size:"sm",onClick:B},{default:l(()=>[e(k,{class:"layui-icon-delete"}),i(" 删除 ")]),_:1})]),operator:l(({row:a})=>[e(n,{size:"xs",border:"green","border-style":"dashed",onClick:H=>V("编辑",a)},{default:l(()=>[i("编辑")]),_:2},1032,["onClick"]),e(n,{size:"xs",border:"blue","border-style":"dashed",onClick:H=>Q(a)},{default:l(()=>[i("分配权限")]),_:2},1032,["onClick"]),e(E,{content:"确定要删除此角色吗?",onConfirm:J,onCancel:D},{default:l(()=>[e(n,{size:"xs",border:"red","border-style":"dashed"},{default:l(()=>[i("删除")]),_:1})]),_:1})]),_:1},8,["page","columns","loading","data-source","selected-keys"])]),e(N,{modelValue:f.value,"onUpdate:modelValue":t[8]||(t[8]=a=>f.value=a),title:b.value,area:["500px","370px"]},{default:l(()=>[_("div",ke,[e(U,{model:u.value,ref_key:"layFormRef11",ref:R,required:""},{default:l(()=>[e(m,{label:"角色名称",prop:"name"},{default:l(()=>[e(c,{modelValue:u.value.name,"onUpdate:modelValue":t[5]||(t[5]=a=>u.value.name=a)},null,8,["modelValue"])]),_:1}),e(m,{label:"角色标识",prop:"flage"},{default:l(()=>[e(c,{modelValue:u.value.flage,"onUpdate:modelValue":t[6]||(t[6]=a=>u.value.flage=a)},null,8,["modelValue"])]),_:1}),e(m,{label:"描述",prop:"remark"},{default:l(()=>[e(I,{placeholder:"请输入描述",modelValue:u.value.remark,"onUpdate:modelValue":t[7]||(t[7]=a=>u.value.remark=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),_("div",he,[e(n,{size:"sm",type:"primary",onClick:w},{default:l(()=>[i("保存")]),_:1}),e(n,{size:"sm",onClick:C},{default:l(()=>[i("取消")]),_:1})])])]),_:1},8,["modelValue","title"]),e(N,{modelValue:p.value,"onUpdate:modelValue":t[10]||(t[10]=a=>p.value=a),title:"分配权限",area:["500px","450px"]},{default:l(()=>[_("div",xe,[e(L,{style:{"margin-left":"40px"},"tail-node-icon":!1,data:O.value,showCheckbox:F.value,checkedKeys:z.value,"onUpdate:checkedKeys":t[9]||(t[9]=a=>z.value=a)},{title:l(({data:a})=>[e(k,{class:ee(a.icon)},null,8,["class"]),i(" "+le(a.title),1)]),_:1},8,["data","showCheckbox","checkedKeys"])]),e(P),_("div",be,[e(n,{size:"sm",type:"primary",onClick:w},{default:l(()=>[i("保存")]),_:1}),e(n,{size:"sm",onClick:C},{default:l(()=>[i("取消")]),_:1})])]),_:1},8,["modelValue"])]),_:1})}}}),je=ve(Ve,[["__scopeId","data-v-bf6a91e2"]]);export{je as default};
