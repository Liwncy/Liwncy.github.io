import{d as M,r as f,v as Q,a as Z,c as A,w as a,b as e,f as d,g as b,t as w,J as n,K as L,M as G,H as q,l as O,Q as W,P as X,p as Y,h as ee,_ as ae}from"./index-2582b004.js";import{c as te}from"./index-c6bb29d7.js";/* empty css              */import{a as le}from"./index-591901f8.js";import{w as oe}from"./index-6302b6e6.js";import{V as ie}from"./index-c5655dd7.js";import{y as ne,f as se}from"./index-cfb8024e.js";import{j as fe}from"./index-c30b1bd1.js";import"./index2-834167d9.js";import"./index2-c3cc8f2f.js";const de=u=>(Y("data-v-117b61b3"),u=u(),ee(),u),ce={class:"table-box"},me={style:{color:"#1677ff"},href:"https://foruda.gitee.com/avatar/1677022544584087390/4835367_jmysy_1578975358.png",target:"_blank"},re=de(()=>b("div",{style:{width:"100%","text-align":"center"}}," 只能上传小于1000KB的文件 ",-1)),ue=M({__name:"index",setup(u){const s=f({filePath:"",flieName:"",uploadUser:""}),p=f(!1),_=f([]);function k(){p.value=!0}function N(){s.value={filePath:"",flieName:"",uploadUser:""}}function z(){h.current=1,v(h)}function P(o){n.msg("下载成功！")}const g=f(!1),y=f([]),h=Q({current:1,limit:10,total:100}),S=f([{title:"选项",width:"55px",type:"checkbox",fixed:"left"},{title:"文件名称",key:"fileName",sort:"desc"},{title:"文件路径",key:"filePath",sort:"desc",customSlot:"filePath"},{title:"文件大小",width:"120px",key:"fileSize",sort:"desc"},{title:"上传人",width:"120px",key:"name",sort:"desc"},{title:"上传时间",width:"220px",key:"joinTime",sort:"desc"},{title:"操作",width:"150px",customSlot:"operator",key:"operator",fixed:"right"}]),v=o=>{g.value=!0,setTimeout(()=>{x.value=T(o.current,o.limit),g.value=!1},1e3)},C=(o,t)=>{n.msg(`字段${o} - 排序${t}, 你可以利用 sort-change 实现服务端排序`)},x=f([{id:"1",name:"张大福",fileSize:"101.1KB",sex:"男",city:"浙江杭州",age:"18",fileName:"eleadmin.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"2",name:"李旺",fileSize:"36.4KB",sex:"男",city:"浙江杭州",age:"20",fileName:"CyrCNmTJfv7D6GFAg39bjT3eRkkRm5dI-copyright.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"3",name:"韩学刚",fileSize:"10.5KB",sex:"男",city:"浙江杭州",age:"20",fileName:"fAenQ8nvRjL7x0i0jEfuDBZHvJfHf3v6.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"4",name:"张东方",fileSize:"12.3KB",sex:"男",city:"浙江杭州",age:"20",fileName:"eleadmin20201020172822.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"5",name:"金士顿",fileSize:"17.4KB",sex:"男",city:"浙江杭州",age:"20",fileName:"RZ8FQmZfHkcffMlTBCJllBFjEhEsObVo.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"6",name:"杨丽娟",fileSize:"2.0KB",sex:"男",city:"浙江杭州",age:"20",fileName:"pro202012301.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"7",name:"沈恒",fileSize:"14.0KB",sex:"男",city:"浙江杭州",age:"18",fileName:"CyrCNmTJfv7D6GFAg39bjT3eRkkRm5dI.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"8",name:"程雪生",fileSize:"3.7KB",sex:"男",city:"浙江杭州",age:"20",fileName:"LrCTN2j94lo9N7wEql7cBr1Ux4rHMvmZ.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"9",name:"石黄平",fileSize:"820.3KB",sex:"男",city:"浙江杭州",age:"20",fileName:"eleadmin20201020172822.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"10",name:"萍雨安",fileSize:"1.4M",sex:"男",city:"浙江杭州",age:"20",fileName:"faa0202700ee455b90fe77d8bef98bc0.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"}]),T=(o,t)=>{for(var c=[],m=(o-1)*t+1,r=o*t,i=m;i<=r;i++)c.push({id:`${i}`,age:"18",sex:"男",name:`张三${i}`,fileSize:"148.4KB",fileName:"eleadmin.jpg",joinTime:"2022-02-09 09:45:21",city:"浙江杭州",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"});return c};function V(){if(y.value.length==0){n.msg("您未选择数据，请先选择要删除的数据",{icon:3,time:2e3});return}n.confirm("您将删除所有选中的数据？",{title:"提示",btn:[{text:"确定",callback:o=>{n.msg("您已成功删除"),n.close(o)}},{text:"取消",callback:o=>{n.msg("您已取消操作"),n.close(o)}}]})}function B(){n.msg("您已成功删除")}function K(){n.msg("您已取消操作")}const U=o=>(o.size>1e3&&n.msg("file size over 1000 KB",{icon:2}),new Promise(t=>t(!0)));return(o,t)=>{const c=L,m=G,r=ne,i=q,I=se,R=fe,D=ie,j=O,H=oe,J=le,$=W,E=X,F=te;return Z(),A(F,{fluid:"true",class:"file-box"},{default:a(()=>[e(D,null,{default:a(()=>[e(R,{style:{"margin-top":"10px"}},{default:a(()=>[e(I,null,{default:a(()=>[e(r,{md:5},{default:a(()=>[e(m,{label:"文件名称","label-width":"80"},{default:a(()=>[e(c,{modelValue:s.value.flieName,"onUpdate:modelValue":t[0]||(t[0]=l=>s.value.flieName=l),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{md:5},{default:a(()=>[e(m,{label:"文件路径","label-width":"80"},{default:a(()=>[e(c,{modelValue:s.value.filePath,"onUpdate:modelValue":t[1]||(t[1]=l=>s.value.filePath=l),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{md:5},{default:a(()=>[e(m,{label:"上传人","label-width":"80"},{default:a(()=>[e(c,{modelValue:s.value.uploadUser,"onUpdate:modelValue":t[2]||(t[2]=l=>s.value.uploadUser=l),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{md:5},{default:a(()=>[e(m,{"label-width":"20"},{default:a(()=>[e(i,{style:{"margin-left":"20px"},type:"normal",size:"sm",onClick:z},{default:a(()=>[d(" 查询 ")]),_:1}),e(i,{size:"sm",onClick:N},{default:a(()=>[d(" 重置 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),b("div",ce,[e(J,{page:h,columns:S.value,height:"100%",loading:g.value,"default-toolbar":!0,"data-source":x.value,"selected-keys":y.value,"onUpdate:selectedKeys":t[3]||(t[3]=l=>y.value=l),onChange:v,onSortChange:C},{filePath:a(({row:l})=>[b("a",me,w(l.filePath),1)]),toolbar:a(()=>[e(i,{size:"sm",type:"primary",onClick:k},{default:a(()=>[e(j,{class:"layui-icon-upload-drag"}),d(" 上传 ")]),_:1}),e(i,{size:"sm",onClick:V},{default:a(()=>[e(j,{class:"layui-icon-delete"}),d(" 删除 ")]),_:1})]),operator:a(({row:l})=>[e(i,{size:"xs",border:"green","border-style":"dashed",onClick:pe=>P(l)},{default:a(()=>[d("下载")]),_:2},1032,["onClick"]),e(H,{content:"确定要删除此文件吗?",onConfirm:B,onCancel:K},{default:a(()=>[e(i,{size:"xs",border:"red","border-style":"dashed"},{default:a(()=>[d("删除")]),_:1})]),_:1})]),_:1},8,["page","columns","loading","data-source","selected-keys"])]),e(E,{modelValue:p.value,"onUpdate:modelValue":t[5]||(t[5]=l=>p.value=l),title:"导入文件",area:["380px","380px"]},{default:a(()=>[e($,{beforeUpload:U,style:{margin:"60px"},url:"https://www.mocky.io/v2/5cc8019d300000980a055e76",modelValue:_.value,"onUpdate:modelValue":t[4]||(t[4]=l=>_.value=l),field:"file",auto:!1,drag:!0},{preview:a(()=>{var l;return[d(w((l=_.value[0])==null?void 0:l.name),1)]}),_:1},8,["modelValue"]),re]),_:1},8,["modelValue"])]),_:1})}}});const Ne=ae(ue,[["__scopeId","data-v-117b61b3"]]);export{Ne as default};
