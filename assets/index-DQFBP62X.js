import{d as fe,r as n,v as ve,a as j,c as F,w as l,g as v,Y as _e,R as I,T as q,b as e,f as r,N as ye,t as K,A as u,l as xe,C as be,Q as Ve,D as ge,E as ke,y as we,U as he,F as Ce,h as ze,G as Ue,V as Ne,H as Se,W as Te,J as je,m as Fe,K as Ke,X as $e,Z as Ae,i as De,_ as Re}from"./index-Bw7uszag.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */const Je={style:{display:"flex"}},Le={style:{flex:"1",padding:"10px","over-flow":"auto"}},Ee={style:{padding:"20px"}},Oe={style:{width:"100%","text-align":"center"}},Be={style:{padding:"20px"}},Ie={style:{width:"100%","text-align":"center"}},qe=fe({__name:"index",setup(Qe){const Q=n([{title:"xxxx公司",id:1,checked:!0,children:[{title:"研发部",id:2,children:[{title:"研发一部",id:3},{title:"研发二部",id:4},{title:"研发三部",id:5}]},{title:"测试部",id:6,children:[{title:"测试一部",id:7,disabled:!0},{title:"测试二部",id:8}]},{title:"设计部",id:9},{title:"市场部",id:10}]}]),G=n(!1),k=n(""),h=n({id:0,title:""}),y=n(!1),_=n({userAccount:"",userName:"",sex:""});function H(){_.value={userAccount:"",userName:"",sex:""}}function W(o){h.value=JSON.parse(JSON.stringify(o)),g.current=h.value.id,U(g)}function X(){b.value=!0}function Y(){s.value={organization:"1",name:"研发部",fullName:"xxxx公司-研发部",code:"001",type:"1",sort:1,remark:"备注"},b.value=!0}function Z(){if(k.value==""){u.msg("您未选择组织机构，请先选择要删除的组织机构",{icon:3,time:2e3});return}u.confirm("您将删除所选中的组织机构 [ "+h.value.title+" ] ？",{title:"提示",btn:[{text:"确定",callback:o=>{u.msg("您已成功删除"),u.close(o)}},{text:"取消",callback:o=>{u.msg("您已取消操作"),u.close(o)}}]})}function M(){g.current=1,U(g)}const C=n(!1),z=n(),g=ve({current:1,limit:10,total:100}),P=n([{title:"选项",width:"55px",type:"checkbox",fixed:"left"},{title:"编号",width:"80px",key:"id",fixed:"left",sort:"id"},{title:"用户账号",width:"80px",key:"account",sort:"account"},{title:"用户名",width:"80px",key:"name",sort:"name"},{title:"性别",width:"80px",key:"sex",sort:"sex"},{title:"角色",width:"120px",key:"role",customSlot:"role"},{title:"创建时间",width:"120px",key:"joinTime"},{title:"状态",width:"120px",key:"status",sort:"status"},{title:"操作",width:"150px",customSlot:"operator",key:"operator",fixed:"right"}]),U=o=>{C.value=!0,setTimeout(()=>{N.value=te(o.current,o.limit),C.value=!1},1e3)},ee=(o,t)=>{u.msg(`字段${o} - 排序${t}, 你可以利用 sort-change 实现服务端排序`)},N=n([{id:"1",name:"管理员",sex:"男",role:"管理员",account:"admin",joinTime:"2022-02-09 18:34:56",status:!0},{id:"2",name:"张三2",sex:"男",role:"普通用户",account:"用户2",joinTime:"2022-02-09 18:34:56",status:!0},{id:"3",name:"李四3",sex:"男",role:"普通用户",account:"用户3",joinTime:"2022-02-09 18:34:56",status:!0},{id:"4",name:"用户4",sex:"男",role:"普通用户",account:"用户4",joinTime:"2022-02-09 18:34:56",status:!0},{id:"5",name:"王五5",sex:"男",role:"普通用户",account:"用户5",joinTime:"2022-02-09 18:34:56",status:!0},{id:"6",name:"赵六6",sex:"男",role:"普通用户",account:"用户6",joinTime:"2022-02-09 18:34:56",status:!0},{id:"7",name:"黄齐7",sex:"男",role:"普通用户",account:"用户7",joinTime:"2022-02-09 18:34:56",status:!0},{id:"8",name:"用户8",sex:"男",role:"普通用户",account:"用户8",joinTime:"2022-02-09 18:34:56",status:!0},{id:"9",name:"游客9",sex:"男",role:"游客",account:"游客9",joinTime:"用户22-02-09 18:34:56",status:!0},{id:"10",name:"用户10",sex:"女",role:"普通用户",account:"user10",joinTime:"2022-02-09 18:34:56 18:34:56",status:!0}]),le=(o,t)=>{N.value.forEach(c=>{c.id===t.id&&u.msg("Success",{icon:1},()=>{c.status=o})})},te=(o,t)=>{for(var c=[],d=(o-1)*t+1,S=o*t,m=d;m<=S;m++)c.push({id:`${m}`,account:`user${m}`,sex:"男",name:`用户${m}`,joinTime:"2022-02-09 18:34:56",role:"普通用户",status:!0});return c},f=n({name:"",role:"",sex:"",status:"",account:""}),$=n(),x=n(!1),A=n("新增"),D=(o,t)=>{if(A.value=o,t!=null){let c=JSON.parse(JSON.stringify(t));f.value=c}else f.value={name:"",role:"",sex:"",status:"",account:""};x.value=!x.value};function ae(){if(z.value.length==0){u.msg("您未选择数据，请先选择要删除的数据",{icon:3,time:2e3});return}u.confirm("您将删除所有选中的数据？",{title:"提示",btn:[{text:"确定",callback:o=>{u.msg("您已成功删除"),u.close(o)}},{text:"取消",callback:o=>{u.msg("您已取消操作"),u.close(o)}}]})}function R(){u.msg("保存成功！",{icon:1,time:1e3}),x.value=!1,b.value=!1}function J(){x.value=!1,b.value=!1}function oe(){u.msg("您已成功删除")}function ne(){u.msg("您已取消操作")}const s=n({organization:"",name:"",fullName:"",code:"",type:"",sort:0,remark:""});n();const b=n(!1),ue=n("新建");return(o,t)=>{const c=xe,d=be,S=Ve,m=ge,i=ke,V=we,p=he,w=Ce,L=ze,T=Ue,se=Ne,E=Se,ie=Te,de=je,re=Fe,O=Ke,me=$e,ce=Ae,pe=De;return j(),F(pe,{fluid:"true",class:"organization-box"},{default:l(()=>[v("div",Je,[v("div",{style:_e({width:y.value?"0px":"300px"}),class:"left-tree"},[I(v("div",null,[e(d,{type:"normal",size:"sm",onClick:X},{default:l(()=>[e(c,{type:"layui-icon-addition"}),r("新建 ")]),_:1}),e(d,{type:"warm",size:"sm",onClick:Y},{default:l(()=>[e(c,{type:"layui-icon-edit"}),r("修改 ")]),_:1}),e(d,{type:"danger",size:"sm",onClick:Z},{default:l(()=>[e(c,{type:"layui-icon-delete"}),r("删除 ")]),_:1})],512),[[q,!y.value]]),I(e(S,{style:{"margin-top":"10px"},data:Q.value,selectedKey:k.value,"onUpdate:selectedKey":t[0]||(t[0]=a=>k.value=a),showLine:G.value,expandKeys:[1,3,4],onNodeClick:W},{title:l(({data:a})=>[v("span",{class:ye(k.value==a.id?"isChecked":"")},K(a.title)+" "+K(a.id),3)]),_:1},8,["data","selectedKey","showLine"]),[[q,!y.value]]),v("div",{class:"isFold",onClick:t[1]||(t[1]=a=>y.value=!y.value)},[r("  "),y.value?(j(),F(c,{key:1,class:"layui-icon-right"})):(j(),F(c,{key:0,class:"layui-icon-left"}))])],4),v("div",Le,[e(se,null,{default:l(()=>[e(T,null,{default:l(()=>[e(L,null,{default:l(()=>[e(V,{md:5},{default:l(()=>[e(i,{label:"用户账号","label-width":"80"},{default:l(()=>[e(m,{modelValue:_.value.userAccount,"onUpdate:modelValue":t[2]||(t[2]=a=>_.value.userAccount=a),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(V,{md:5},{default:l(()=>[e(i,{label:"用户名","label-width":"80"},{default:l(()=>[e(m,{modelValue:_.value.userName,"onUpdate:modelValue":t[3]||(t[3]=a=>_.value.userName=a),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(V,{md:5},{default:l(()=>[e(i,{label:"性别","label-width":"80"},{default:l(()=>[e(w,{class:"search-input",size:"sm",modelValue:_.value.sex,"onUpdate:modelValue":t[4]||(t[4]=a=>_.value.sex=a),"allow-clear":!0,placeholder:"请选择"},{default:l(()=>[e(p,{value:"man",label:"男"}),e(p,{value:"woman",label:"女"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(V,{md:5},{default:l(()=>[e(i,{"label-width":"20"},{default:l(()=>[e(d,{style:{"margin-left":"20px"},type:"normal",size:"sm",onClick:M},{default:l(()=>[r(" 查询 ")]),_:1}),e(d,{size:"sm",onClick:H},{default:l(()=>[r(" 重置 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(re,{page:g,height:"100%",columns:P.value,loading:C.value,"default-toolbar":!0,"data-source":N.value,"selected-keys":z.value,"onUpdate:selectedKeys":t[6]||(t[6]=a=>z.value=a),onChange:U,onSortChange:ee},{status:l(({row:a})=>[e(E,{"model-value":a.status,onChange:B=>le(B,a)},null,8,["model-value","onChange"])]),role:l(({row:a})=>[e(ie,{color:"#165DFF",variant:"light"},{default:l(()=>[r(K(a.role),1)]),_:2},1024)]),toolbar:l(()=>[e(d,{size:"sm",type:"primary",onClick:t[5]||(t[5]=a=>D("新增",null))},{default:l(()=>[r("新增")]),_:1}),e(d,{size:"sm",onClick:ae},{default:l(()=>[r("删除")]),_:1})]),operator:l(({row:a})=>[e(d,{size:"xs",border:"green","border-style":"dashed",onClick:B=>D("编辑",a)},{default:l(()=>[r("编辑")]),_:2},1032,["onClick"]),e(de,{content:"确定要删除此用户吗?",onConfirm:oe,onCancel:ne},{default:l(()=>[e(d,{size:"xs",border:"red","border-style":"dashed"},{default:l(()=>[r("删除")]),_:1})]),_:1})]),_:1},8,["page","columns","loading","data-source","selected-keys"])])]),e(O,{modelValue:x.value,"onUpdate:modelValue":t[11]||(t[11]=a=>x.value=a),title:A.value,area:["500px","450px"]},{default:l(()=>[v("div",Ee,[e(T,{model:f.value,ref_key:"layFormRef11",ref:$,required:""},{default:l(()=>[e(i,{label:"用户账号",prop:"account"},{default:l(()=>[e(m,{modelValue:f.value.account,"onUpdate:modelValue":t[7]||(t[7]=a=>f.value.account=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"用户名",prop:"name"},{default:l(()=>[e(m,{modelValue:f.value.name,"onUpdate:modelValue":t[8]||(t[8]=a=>f.value.name=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"性别",prop:"sex"},{default:l(()=>[e(w,{modelValue:f.value.sex,"onUpdate:modelValue":t[9]||(t[9]=a=>f.value.sex=a),style:{width:"100%"}},{default:l(()=>[e(p,{value:"男",label:"男"}),e(p,{value:"女",label:"女"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"角色",prop:"role"},{default:l(()=>[e(m,{modelValue:f.value.role,"onUpdate:modelValue":t[10]||(t[10]=a=>f.value.role=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"状态",prop:"status"},{default:l(()=>[e(E,{"model-value":f.value.status},null,8,["model-value"])]),_:1})]),_:1},8,["model"]),v("div",Oe,[e(d,{size:"sm",type:"primary",onClick:R},{default:l(()=>[r("保存")]),_:1}),e(d,{size:"sm",onClick:J},{default:l(()=>[r("取消")]),_:1})])])]),_:1},8,["modelValue","title"]),e(O,{modelValue:b.value,"onUpdate:modelValue":t[19]||(t[19]=a=>b.value=a),title:ue.value,area:["700px","400px"]},{default:l(()=>[v("div",Be,[e(T,{model:s.value,ref_key:"layFormRef11",ref:$,required:""},{default:l(()=>[e(L,null,{default:l(()=>[e(V,{md:"12"},{default:l(()=>[e(i,{label:"上级机构",prop:"organization"},{default:l(()=>[e(w,{modelValue:s.value.organization,"onUpdate:modelValue":t[12]||(t[12]=a=>s.value.organization=a),style:{width:"100%"}},{default:l(()=>[e(p,{value:"1",label:"研发部"}),e(p,{value:"2",label:"测试部"}),e(p,{value:"3",label:"设计部"}),e(p,{value:"4",label:"市场部"}),e(p,{value:"5",label:"运维部"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"机构名称",prop:"name"},{default:l(()=>[e(m,{modelValue:s.value.name,"onUpdate:modelValue":t[13]||(t[13]=a=>s.value.name=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"机构全称",prop:"fullName"},{default:l(()=>[e(m,{modelValue:s.value.fullName,"onUpdate:modelValue":t[14]||(t[14]=a=>s.value.fullName=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"机构代码",prop:"code"},{default:l(()=>[e(m,{modelValue:s.value.code,"onUpdate:modelValue":t[15]||(t[15]=a=>s.value.code=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(V,{md:"12"},{default:l(()=>[e(i,{label:"机构类型",prop:"type"},{default:l(()=>[e(w,{modelValue:s.value.type,"onUpdate:modelValue":t[16]||(t[16]=a=>s.value.type=a),style:{width:"100%"}},{default:l(()=>[e(p,{value:"1",label:"公司"}),e(p,{value:"2",label:"子公司"}),e(p,{value:"3",label:"部门"}),e(p,{value:"4",label:"小组"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"排序号",prop:"sort"},{default:l(()=>[e(me,{style:{width:"100%"},modelValue:s.value.sort,"onUpdate:modelValue":t[17]||(t[17]=a=>s.value.sort=a),position:"right"},null,8,["modelValue"])]),_:1}),e(i,{label:"备注",prop:"remark"},{default:l(()=>[e(ce,{placeholder:"请输入备注",modelValue:s.value.remark,"onUpdate:modelValue":t[18]||(t[18]=a=>s.value.remark=a),rows:4},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),v("div",Ie,[e(d,{size:"sm",type:"primary",onClick:R},{default:l(()=>[r("保存")]),_:1}),e(d,{size:"sm",onClick:J},{default:l(()=>[r("取消")]),_:1})])])]),_:1},8,["modelValue","title"])]),_:1})}}}),el=Re(qe,[["__scopeId","data-v-8a4f99ee"]]);export{el as default};
