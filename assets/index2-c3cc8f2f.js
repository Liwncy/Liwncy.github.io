import{g as R,j as se,d as x,s as ne,r as y,k as $,z as B,aB as z,a6 as oe,a as n,m,c as S,F as j,G as J,aC as pe,D,q as F,e as G,t as h,I as e,n as Y,f as H,w as k,b,aD as Z,aE as Q,Z as O,aF as X,U as de,aG as I,N as re,K as ee,H as ve,W as me}from"./index-2582b004.js";const ae=Symbol("layui-page"),N=()=>me(ae,{}),ge={class:"layui-page-total-text"},ce=x({name:"LayPageCount",__name:"count",setup(C){const{t}=G(),{pageTotal:l}=N();return(u,o)=>(n(),m("span",ge,h(e(t)("page.total"))+" "+h(e(l))+" "+h(e(t)("page.item")),1))}}),ye=["data-page"],he=x({name:"LayPagePrev",__name:"prev",setup(C){const{t}=G(),{pageCount:l,currentPage:u,handlePrev:o}=N();return(i,d)=>(n(),m("div",{class:F(["layui-page-prev",[{"is-disabled":e(u)<=1}]]),onClick:d[0]||(d[0]=(...a)=>e(o)&&e(o)(...a)),"data-page":e(t)("page.previous")},[Y(i.$slots,"prev",{},()=>[H(h(e(t)("page.previous")),1)])],10,ye))}}),be={class:"layui-pager"},fe=["data-page"],ke=["onClick","data-page"],Ce=["data-page"],Pe=x({name:"LayPager",__name:"pager",setup(C){const{pageCount:t,pageOpionData:l,handlePage:u,setPage:o,iconPrevHover:i,iconNextHover:d,currentPage:a,handleNext:r,theme:g,pageTotal:P,ellipsisTooltip:_}=N();return(W,p)=>(n(),m("ul",be,[e(o)[0]!==1?(n(),m("li",{key:0,"data-page":e(a),onClick:p[0]||(p[0]=s=>e(u)(1)),class:F(["layui-pager-number",{[e(g)?"layui-bg-"+e(g):""]:e(a)===1,"is-active":e(a)===1}])}," 1 ",10,fe)):D("",!0),e(o)[0]>2?(n(),S(e(X),{key:1,disabled:!e(_),ref:"manualRef",trigger:"hover",placement:"bottom"},{content:k(()=>[b(e(Z),{style:{"max-height":"140px","overflow-y":"auto"}},{default:k(()=>[(n(!0),m(j,null,J(e(l).resetLeft,s=>(n(),S(e(Q),{key:s,onClick:f=>e(u)(s)},{default:k(()=>[H(h(s),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:k(()=>[R("li",{"data-page":"向前 3 页",class:"layui-pager-number layui-page-left-number",onMouseleave:p[1]||(p[1]=s=>i.value=!0),onMouseenter:p[2]||(p[2]=s=>i.value=!1),onClick:p[3]||(p[3]=s=>e(u)(e(a)-3))},[b(e(O),{type:e(i)?"layui-icon-more":"layui-icon-left",size:"12px"},null,8,["type"])],32)]),_:1},8,["disabled"])):D("",!0),(n(!0),m(j,null,J(e(o),s=>(n(),m("li",{onClick:f=>e(u)(s),key:s,"data-page":s,class:F(["layui-pager-number",{[e(g)?"layui-bg-"+e(g):""]:s===e(a),"is-active":s===e(a)}])},h(s),11,ke))),128)),e(o)[e(o).length-1]<e(t)-1?(n(),S(e(X),{key:2,disabled:!e(_),trigger:"hover",placement:"bottom"},{content:k(()=>[b(e(Z),{style:{"max-height":"140px","overflow-y":"auto"}},{default:k(()=>[(n(!0),m(j,null,J(e(l).resetRight,s=>(n(),S(e(Q),{key:s,onClick:f=>e(u)(s)},{default:k(()=>[H(h(s),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:k(()=>[R("li",{"data-page":"向后 3 页",class:"layui-pager-number layui-page-right-number",onMouseleave:p[4]||(p[4]=s=>d.value=!0),onMouseenter:p[5]||(p[5]=s=>d.value=!1),onClick:p[6]||(p[6]=s=>e(u)(e(a)+3))},[b(e(O),{type:e(d)?"layui-icon-more":"layui-icon-right",size:"12px"},null,8,["type"])],32)]),_:1},8,["disabled"])):D("",!0),e(o)[e(o).length-1]!==e(t)?(n(),m("li",{key:3,"data-page":e(t),onClick:p[7]||(p[7]=s=>e(u)(e(t))),class:F(["layui-pager-number",{[e(g)?"layui-bg-"+e(g):""]:e(t)===e(a),"is-active":e(t)===e(a)}])},h(e(t)),11,Ce)):D("",!0)]))}}),xe=["data-page"],_e=x({name:"LayPageNext",__name:"next",setup(C){const{t}=G(),{pageCount:l,currentPage:u,handleNext:o,slots:i}=N();return(d,a)=>(n(),m("div",{class:F(["layui-page-next",[{"is-disabled":e(l)<=e(u)}]]),"data-page":e(t)("page.next"),onClick:a[0]||(a[0]=(...r)=>e(o)&&e(o)(...r))},[Y(d.$slots,"next",{},()=>[H(h(e(t)("page.next")),1)])],10,xe))}}),Ve={class:"layui-page-limits"},Be=x({name:"LayPageLimits",__name:"limits",setup(C){const{t}=G(),{inlimit:l,disabled:u,limits:o}=N();return(i,d)=>(n(),m("div",Ve,[b(e(re),{modelValue:e(l),"onUpdate:modelValue":d[0]||(d[0]=a=>I(l)?l.value=a:null),placeholder:"请选择",disabled:e(u),autoFitWidth:!1},{default:k(()=>[(n(!0),m(j,null,J(e(o),a=>{return n(),S(e(de),{value:a,label:(r=a,`${r} ${t("page.item")+"/"+t("page.page")}`),key:a},null,8,["value","label"]);var r}),128))]),_:1},8,["modelValue","disabled"])]))}}),Ne=x({name:"LayPageRefresh",__name:"refresh",setup(C){const{currentPage:t,inlimit:l,disabled:u,limits:o,handleRefresh:i}=N();return(d,a)=>(n(),m("div",{onClick:a[0]||(a[0]=(...r)=>e(i)&&e(i)(...r)),class:"layui-page-refresh"},[b(e(O),{type:"layui-icon-refresh"})]))}}),Le={class:"layui-pager-jumper"},Te=x({name:"LayPageSkip",__name:"skip",setup(C){const{t}=G(),{disabled:l,jumpNumber:u,handleBlur:o,handleJumpPage:i}=N();return(d,a)=>(n(),m("div",Le,[H(h(e(t)("page.goTo"))+" ",1),b(e(ee),{disabled:e(l),onBlur:e(o),type:"number",modelValue:e(u),"onUpdate:modelValue":a[0]||(a[0]=r=>I(u)?u.value=r:null)},null,8,["disabled","onBlur","modelValue"]),b(e(ve),{disabled:e(l),onClick:e(i),size:"xs"},{default:k(()=>[H(h(e(t)("page.confirm")),1)]),_:1},8,["disabled","onClick"])]))}}),ze=["data-page"],Re=["data-page"],Se=R("span",{class:"layui-simple-page-slash"},"／",-1),je=["data-page"],we=x({name:"LayPageSimple",__name:"simple",setup(C){const{pageCount:t,disabled:l,currentPage:u,handlePrev:o,handleNext:i,handleBlur:d}=N(),{t:a}=G();return(r,g)=>(n(),m(j,null,[R("div",{"data-page":e(a)("page.previous"),class:"layui-page-prev",onClick:g[0]||(g[0]=(...P)=>e(o)&&e(o)(...P))},[b(e(O),{type:"layui-icon-left",size:"16px"})],8,ze),R("div",{class:"layui-pager-jumper","data-page":e(u)+"/"+e(t)},[b(e(ee),{disabled:e(l),onBlur:e(d),type:"number",modelValue:e(u),"onUpdate:modelValue":g[1]||(g[1]=P=>I(u)?u.value=P:null)},null,8,["disabled","onBlur","modelValue"]),Se,R("span",null,h(e(t)),1)],8,Re),R("div",{"data-page":e(a)("page.next"),class:"layui-page-next",onClick:g[2]||(g[2]=(...P)=>e(i)&&e(i)(...P))},[b(e(O),{type:"layui-icon-right",size:"16px"})],8,je)],64))}}),Me=x({name:"LayPage",__name:"index",props:{total:{default:0},limit:{default:10},theme:{},pages:{default:5},limits:{default:()=>[10,20,30,40,50]},simple:{type:Boolean,default:!1},modelValue:{default:1},hideOnSinglePage:{type:Boolean,default:!1},ellipsisTooltip:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},layout:{default:()=>["prev","page","next","limits"]}},emits:["update:modelValue","change","update:limit"],setup(C,{emit:t}){const l=C,u=ne(),o=y(l.limits),i=y(l.pages),d=y(l.layout),a=y(l.modelValue),r=y(l.limit),g=y(l.theme),P=y(l.ellipsisTooltip),_=t,W=y(!0),p=y(!0);let s=y({resetLeft:[],resetRight:[]});const f=y(l.modelValue),A=$(()=>l.simple),w=y(l.disabled),le=$(()=>!(v.value<2&&l.hideOnSinglePage));B(()=>l.limit,()=>{r.value=l.limit}),B(()=>l.disabled,()=>{w.value=l.disabled}),B(()=>l.theme,()=>{g.value=l.theme}),B(()=>l.ellipsisTooltip,()=>{P.value=l.ellipsisTooltip}),B(()=>r,c=>{_("update:limit",+c.value),_("change",{current:+a.value,limit:+r.value})},{deep:!0}),B(()=>l.layout,()=>{d.value=l.layout}),B(()=>l.modelValue,()=>{a.value=l.modelValue}),B(a,c=>{f.value=c,_("update:modelValue",+a.value),_("change",{current:+a.value,limit:+r.value})});const te=$(()=>l.total),v=$(()=>Math.ceil(l.total/r.value)||1),ue=$(()=>{let c=[];i.value<=0&&(i.value=1);const L=v.value>i.value?Math.ceil((a.value+1)/i.value):1,M=Math.floor((i.value-1)/2);let U=L>1?a.value-M:1,T=L>1?(()=>{const V=a.value+(i.value-M-1);return V>v.value?v.value:V})():i.value;T>v.value&&(T=v.value),v.value>i.value&&T-U<i.value-1&&(U=T-i.value+1),a.value>v.value&&(a.value=v.value),s.value.resetLeft=Array.from({length:U-2}).map((V,E)=>E+2).reverse(),s.value.resetRight=Array.from({length:v.value-T-1}).map((V,E)=>T+E+1);for(let V=U;V<=T;V++)c.push(V);return c}),K=c=>{w.value||(c<=0&&(c=1),c>=v.value&&(c=v.value),p.value=!0,W.value=!0,a.value=c)},q={count:z(ce),prev:z(he,{},u),page:z(Pe),next:z(_e,{},u),limits:z(Be),refresh:z(Ne),skip:z(Te)},ie=$(()=>d.value.reduce((c,L)=>(c.push({componentName:q[L],show:!!q[L],name:L}),c),[]));return oe(ae,{pageCount:v,pageTotal:te,currentPage:a,pageOpionData:s,iconNextHover:p,iconPrevHover:W,inlimit:r,limits:o,disabled:w,handleRefresh:()=>{_("change",{current:a.value,limit:r.value})},handleNext:()=>{w.value||a.value!==v.value&&a.value++},handlePrev:()=>{w.value||a.value<=1||a.value--},handlePage:K,jumpNumber:f,handleJumpPage:()=>{K(+f.value)},handleBlur:()=>{A.value?(a.value>=v.value&&(a.value=v.value),a.value<=1&&(a.value=1)):(+f.value>=v.value&&(f.value=v.value),+f.value<1&&(f.value=1))},ellipsisTooltip:P,theme:g,setPage:ue}),(c,L)=>le.value?(n(),m("div",{key:0,class:F(["layui-page",w.value?"is-disabled":"",A.value?"layui-page-simple":""])},[A.value?(n(),S(we,{key:1})):(n(!0),m(j,{key:0},J(ie.value,M=>(n(),m(j,{key:M},[M.show?(n(),S(pe(M.componentName),{key:0})):D("",!0)],64))),128))],2)):D("",!0)}}),De=se(Me);export{De as G,Me as z};
