import{d as N,r as m,v as I,a as U,c as z,w as e,b as t,f as o,g as r,t as i,R as v,T as y,A as B,D as W,E as $,y as L,$ as K,C as Q,h as Z,G as H,V as J,a0 as O,W as X,m as Y,K as ee,i as te,_ as ae}from"./index-GZr1U6D_.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */const oe={class:"table-box"},le={class:"oneRow"},ne={class:"oneRow"},se={style:{padding:"20px"}},de=N({__name:"index",setup(ie){const c=m({userAccount:"",userName:"",rangeTime:["2001-01-01 01:01:00","2001-02-1 01:01:00"]});function k(){c.value={userAccount:"",userName:"",rangeTime:["2001-01-01 01:01:00","2001-02-1 01:01:00"]}}function P(){T.current=1,w(T)}const g=m(!1),M=m([]),T=I({current:1,limit:10,total:100}),A=m([{title:"账号",key:"account",sort:"desc"},{title:"用户名",key:"name",sort:"desc"},{title:"操作模块",key:"optionModule",sort:"desc"},{title:"操作功能",width:"180px",key:"optionFunction",sort:"desc"},{title:" 请求地址",width:"180px",key:"requestPath",sort:"desc",customSlot:"requestPath"},{title:"请求方式",key:"requestMethod"},{title:"状态",width:"100px",key:"status",customSlot:"status"},{title:"耗时",key:"time",customSlot:"time"},{title:"登录时间",width:"180px",key:"joinTime"},{title:"操作",width:"100px",customSlot:"operator",key:"operator",fixed:"right"}]),w=d=>{g.value=!0,setTimeout(()=>{x.value=V(d.current,d.limit),g.value=!1},1e3)},F=(d,n)=>{B.msg(`字段${d} - 排序${n}, 你可以利用 sort-change 实现服务端排序`)},x=m([{id:"1",name:"管理员",account:"admin",optionModule:"登录日志",optionFunction:"分页查询登录日志",requestPath:"/api/system/login-record/page",requestMethod:"GET",time:"0.015",ipAddrees:"171.120.210.128",joinTime:"2022-02-09 15:09:34",status:"正常"},{id:"2",name:"用户1",account:"admin",optionModule:"用户管理",optionFunction:"分页查询用户",requestPath:"/api/system/user/page",requestMethod:"GET",time:"0.045",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"124.92.199.219"},{id:"3",account:"admin",name:"管理员",optionModule:"登录日志",requestMethod:"GET",requestPath:"/api/system/login-record/page",optionFunction:"分页查询登录日志",time:"0.027",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"39.155.212.237"},{id:"4",account:"admin",name:"用户2",optionModule:"菜单管理",requestPath:"/api/system/menu/page",requestMethod:"GET",optionFunction:"查询全部菜单",time:"2.397",joinTime:"2022-02-09 15:09:34",status:"失败",ipAddrees:"113.65.14.222"},{id:"5",account:"admin",name:"管理员",optionModule:"文件上传下载",requestPath:"/api/file/page",requestMethod:"GET",optionFunction:"分页查询文件",time:"0.016",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"113.128.81.221"},{id:"6",account:"admin",name:"管理员",optionModule:"文件上传下载",requestPath:"/api/file/page",requestMethod:"GET",optionFunction:"分页查询文件",time:"0.051",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"182.48.101.103"},{id:"7",account:"admin",name:"用户1",optionModule:"菜单管理",requestPath:"/api/system/menu/page",requestMethod:"GET",optionFunction:"查询全部菜单",time:"0.231",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"171.213.58.73"},{id:"8",account:"admin",name:"用户1",optionModule:"菜单管理",requestPath:"/api/system/menu/page",requestMethod:"GET",optionFunction:"查询全部菜单",time:"0.47",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"119.143.100.106"},{id:"9",account:"admin",name:"管理员",optionModule:"登录日志",requestMethod:"GET",requestPath:"/api/system/login-record/page",optionFunction:"分页查询登录日志",time:"0.015",joinTime:"2022-02-09 15:09:34",status:"失败",ipAddrees:"139.162.18.175"},{id:"10",account:"admin",name:"管理员",optionModule:"登录日志",requestMethod:"GET",requestPath:"/api/system/login-record/page",optionFunction:"分页查询登录日志",time:"0.015",joinTime:"2022-02-09 15:09:34",status:"正常",ipAddrees:"14.215.245.130"}]),V=(d,n)=>{for(var _=[],p=(d-1)*n+1,a=d*n,f=p;f<=a;f++)_.push({id:`${f}`,optionModule:"登录日志",requestMethod:"GET",requestPath:"/api/system/login-record/page",optionFunction:"分页查询登录日志",account:"admin",status:"正常",name:"管理员",time:"0.015",joinTime:"2022-02-09 15:09:34",ipAddrees:"111.121.13.184"});return _},s=m({id:"0",optionModule:"",requestMethod:"",requestPath:"",optionFunction:"",account:"",status:"",name:"",time:"",joinTime:"",ipAddrees:""}),q=m(!1);function j(d){q.value=!0,s.value=d}return(d,n)=>{const _=W,p=$,a=L,f=K,b=Q,u=Z,R=H,C=J,E=O,h=X,G=Y,S=ee,D=te;return U(),z(D,{fluid:"true",class:"option-box"},{default:e(()=>[t(C,null,{default:e(()=>[t(R,{style:{"margin-top":"10px"}},{default:e(()=>[t(u,null,{default:e(()=>[t(a,{md:5},{default:e(()=>[t(p,{label:"用户账号","label-width":"80"},{default:e(()=>[t(_,{modelValue:c.value.userAccount,"onUpdate:modelValue":n[0]||(n[0]=l=>c.value.userAccount=l),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),t(a,{md:5},{default:e(()=>[t(p,{label:"用户名","label-width":"80"},{default:e(()=>[t(_,{modelValue:c.value.userName,"onUpdate:modelValue":n[1]||(n[1]=l=>c.value.userName=l),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),t(a,{md:8},{default:e(()=>[t(p,{label:"登录时间","label-width":"80"},{default:e(()=>[t(f,{size:"sm",modelValue:c.value.rangeTime,"onUpdate:modelValue":n[2]||(n[2]=l=>c.value.rangeTime=l),range:"",type:"datetime",placeholder:["开始日期","结束日期"]},null,8,["modelValue"])]),_:1})]),_:1}),t(a,{md:5},{default:e(()=>[t(p,{"label-width":"20"},{default:e(()=>[t(b,{style:{"margin-left":"20px"},type:"normal",size:"sm",onClick:P},{default:e(()=>[o(" 查询 ")]),_:1}),t(b,{size:"sm",onClick:k},{default:e(()=>[o(" 重置 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),r("div",oe,[t(G,{page:T,height:"100%",columns:A.value,loading:g.value,"default-toolbar":!0,"data-source":x.value,"selected-keys":M.value,"onUpdate:selectedKeys":n[3]||(n[3]=l=>M.value=l),onChange:w,onSortChange:F},{requestPath:e(({row:l})=>[t(E,{visible:!1,trigger:"hover",content:l.requestPath},{default:e(()=>[r("div",le,i(l.requestPath),1)]),_:2},1032,["content"])]),status:e(({row:l})=>[v(r("div",null,[t(h,{color:"#2dc570",variant:"light"},{default:e(()=>[o("正常")]),_:1})],512),[[y,l.status=="正常"]]),v(r("div",null,[t(h,{color:"#F5319D",variant:"light"},{default:e(()=>[o("失败")]),_:1})],512),[[y,l.status=="失败"]])]),time:e(({row:l})=>[r("div",ne,i(l.time)+"s",1)]),toolbar:e(()=>[]),operator:e(({row:l})=>[t(b,{size:"xs",border:"green","border-style":"dashed",onClick:ue=>j(l)},{default:e(()=>[o("详情")]),_:2},1032,["onClick"])]),_:1},8,["page","columns","loading","data-source","selected-keys"])]),t(S,{modelValue:q.value,"onUpdate:modelValue":n[4]||(n[4]=l=>q.value=l),title:"详情",area:["700px","450px"]},{default:e(()=>[r("div",se,[t(u,null,{default:e(()=>[t(a,{md:"4",class:"title"},{default:e(()=>[o("操作人")]),_:1}),t(a,{md:"8",class:"content"},{default:e(()=>[o(i(s.value.name+"("+s.value.account+")"),1)]),_:1}),t(a,{md:"4",class:"title"},{default:e(()=>[o("IP地址")]),_:1}),t(a,{md:"8",class:"content borderR"},{default:e(()=>[o(i(s.value.ipAddrees),1)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(a,{md:"4",class:"title"},{default:e(()=>[o("操作模块")]),_:1}),t(a,{md:"8",class:"content"},{default:e(()=>[o(i(s.value.optionModule),1)]),_:1}),t(a,{md:"4",class:"title"},{default:e(()=>[o("操作功能")]),_:1}),t(a,{md:"8",class:"content borderR"},{default:e(()=>[o(i(s.value.optionFunction),1)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(a,{md:"4",class:"title"},{default:e(()=>[o("操作时间")]),_:1}),t(a,{md:"8",class:"content"},{default:e(()=>[o(i(s.value.joinTime),1)]),_:1}),t(a,{md:"4",class:"title"},{default:e(()=>[o("请求耗时")]),_:1}),t(a,{md:"8",class:"content borderR"},{default:e(()=>[o(i(s.value.time)+"s",1)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(a,{md:"4",class:"title"},{default:e(()=>[o("请求方式")]),_:1}),t(a,{md:"8",class:"content"},{default:e(()=>[o(i(s.value.requestMethod),1)]),_:1}),t(a,{md:"4",class:"title"},{default:e(()=>[o("请求状态")]),_:1}),t(a,{md:"8",class:"content borderR"},{default:e(()=>[v(r("div",null,[t(h,{color:"#2dc570",variant:"light"},{default:e(()=>[o("正常")]),_:1})],512),[[y,s.value.status=="正常"]]),v(r("div",null,[t(h,{color:"#F5319D",variant:"light"},{default:e(()=>[o("失败")]),_:1})],512),[[y,s.value.status=="失败"]])]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(a,{md:"4",class:"title"},{default:e(()=>[o("请求地址")]),_:1}),t(a,{md:"20",class:"content borderR"},{default:e(()=>[o(i(s.value.requestPath),1)]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(a,{md:"4",class:"title"},{default:e(()=>[o("调用方法")]),_:1}),t(a,{md:"20",class:"content borderR"},{default:e(()=>[o("com.eleadmin.common.system.controller.LoginRecordController.page")]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(a,{md:"4",class:"title"},{default:e(()=>[o("请求参数")]),_:1}),t(a,{md:"20",class:"content borderR"},{default:e(()=>[o('{"nickname":"","limit":"10","page":"1","username":""}')]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(a,{md:"4",class:"title borderB"},{default:e(()=>[o("返回结果")]),_:1}),t(a,{md:"20",class:"content borderR borderB"},{default:e(()=>[o('{"code":0,"message":"操作成功","data":{"list":[{"id":89548,"username":"admin","os":"Windows","device":"Windows 10 or Windows Server 2016","browser":"Chrome","ip":"113.128.81.221","loginType":3,"comments":null,"tenantId":4,"createTime":1689857372000,"updateTime":1689857372000,"userId":40,"nickname":"管理员"},{"id":89547,"username":"admin","os":"Win')]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),_:1})}}}),fe=ae(de,[["__scopeId","data-v-1b091f85"]]);export{fe as default};
