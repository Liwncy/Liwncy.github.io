import{d as H,r as d,v as M,a as Z,c as G,w as a,b as e,f,g as v,t as w,A as n,D as L,E as Q,y as q,C as O,h as W,G as X,V as Y,l as ee,J as ae,m as le,M as te,K as oe,i as ie,p as ne,j as se,_ as de}from"./index-AaWnK9lM.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */const fe=u=>(ne("data-v-c8903a23"),u=u(),se(),u),ce={class:"table-box"},me={style:{color:"#1677ff"},href:"https://foruda.gitee.com/avatar/1677022544584087390/4835367_jmysy_1578975358.png",target:"_blank"},re=fe(()=>v("div",{style:{width:"100%","text-align":"center"}}," 只能上传小于1000KB的文件 ",-1)),ue=H({__name:"index",setup(u){const s=d({filePath:"",flieName:"",uploadUser:""}),p=d(!1),_=d([]);function k(){p.value=!0}function N(){s.value={filePath:"",flieName:"",uploadUser:""}}function z(){h.current=1,b(h)}function S(o){n.msg("下载成功！")}const g=d(!1),y=d([]),h=M({current:1,limit:10,total:100}),C=d([{title:"选项",width:"55px",type:"checkbox",fixed:"left"},{title:"文件名称",key:"fileName",sort:"desc"},{title:"文件路径",key:"filePath",sort:"desc",customSlot:"filePath"},{title:"文件大小",width:"120px",key:"fileSize",sort:"desc"},{title:"上传人",width:"120px",key:"name",sort:"desc"},{title:"上传时间",width:"220px",key:"joinTime",sort:"desc"},{title:"操作",width:"150px",customSlot:"operator",key:"operator",fixed:"right"}]),b=o=>{g.value=!0,setTimeout(()=>{j.value=T(o.current,o.limit),g.value=!1},1e3)},P=(o,l)=>{n.msg(`字段${o} - 排序${l}, 你可以利用 sort-change 实现服务端排序`)},j=d([{id:"1",name:"张大福",fileSize:"101.1KB",sex:"男",city:"浙江杭州",age:"18",fileName:"eleadmin.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"2",name:"李旺",fileSize:"36.4KB",sex:"男",city:"浙江杭州",age:"20",fileName:"CyrCNmTJfv7D6GFAg39bjT3eRkkRm5dI-copyright.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"3",name:"韩学刚",fileSize:"10.5KB",sex:"男",city:"浙江杭州",age:"20",fileName:"fAenQ8nvRjL7x0i0jEfuDBZHvJfHf3v6.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"4",name:"张东方",fileSize:"12.3KB",sex:"男",city:"浙江杭州",age:"20",fileName:"eleadmin20201020172822.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"5",name:"金士顿",fileSize:"17.4KB",sex:"男",city:"浙江杭州",age:"20",fileName:"RZ8FQmZfHkcffMlTBCJllBFjEhEsObVo.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"6",name:"杨丽娟",fileSize:"2.0KB",sex:"男",city:"浙江杭州",age:"20",fileName:"pro202012301.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"7",name:"沈恒",fileSize:"14.0KB",sex:"男",city:"浙江杭州",age:"18",fileName:"CyrCNmTJfv7D6GFAg39bjT3eRkkRm5dI.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"8",name:"程雪生",fileSize:"3.7KB",sex:"男",city:"浙江杭州",age:"20",fileName:"LrCTN2j94lo9N7wEql7cBr1Ux4rHMvmZ.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"9",name:"石黄平",fileSize:"820.3KB",sex:"男",city:"浙江杭州",age:"20",fileName:"eleadmin20201020172822.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"},{id:"10",name:"萍雨安",fileSize:"1.4M",sex:"男",city:"浙江杭州",age:"20",fileName:"faa0202700ee455b90fe77d8bef98bc0.jpg",joinTime:"2022-02-09 09:45:21",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"}]),T=(o,l)=>{for(var c=[],m=(o-1)*l+1,r=o*l,i=m;i<=r;i++)c.push({id:`${i}`,age:"18",sex:"男",name:`张三${i}`,fileSize:"148.4KB",fileName:"eleadmin.jpg",joinTime:"2022-02-09 09:45:21",city:"浙江杭州",filePath:"20220722/881ef0f83ef347a18177ee26ccb33d1a.jpg"});return c};function V(){if(y.value.length==0){n.msg("您未选择数据，请先选择要删除的数据",{icon:3,time:2e3});return}n.confirm("您将删除所有选中的数据？",{title:"提示",btn:[{text:"确定",callback:o=>{n.msg("您已成功删除"),n.close(o)}},{text:"取消",callback:o=>{n.msg("您已取消操作"),n.close(o)}}]})}function B(){n.msg("您已成功删除")}function K(){n.msg("您已取消操作")}const U=o=>(o.size>1e3&&n.msg("file size over 1000 KB",{icon:2}),new Promise(l=>l(!0)));return(o,l)=>{const c=L,m=Q,r=q,i=O,I=W,R=X,D=Y,x=ee,E=ae,J=le,$=te,A=oe,F=ie;return Z(),G(F,{fluid:"true",class:"file-box"},{default:a(()=>[e(D,null,{default:a(()=>[e(R,{style:{"margin-top":"10px"}},{default:a(()=>[e(I,null,{default:a(()=>[e(r,{md:5},{default:a(()=>[e(m,{label:"文件名称","label-width":"80"},{default:a(()=>[e(c,{modelValue:s.value.flieName,"onUpdate:modelValue":l[0]||(l[0]=t=>s.value.flieName=t),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{md:5},{default:a(()=>[e(m,{label:"文件路径","label-width":"80"},{default:a(()=>[e(c,{modelValue:s.value.filePath,"onUpdate:modelValue":l[1]||(l[1]=t=>s.value.filePath=t),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{md:5},{default:a(()=>[e(m,{label:"上传人","label-width":"80"},{default:a(()=>[e(c,{modelValue:s.value.uploadUser,"onUpdate:modelValue":l[2]||(l[2]=t=>s.value.uploadUser=t),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{md:5},{default:a(()=>[e(m,{"label-width":"20"},{default:a(()=>[e(i,{style:{"margin-left":"20px"},type:"normal",size:"sm",onClick:z},{default:a(()=>[f(" 查询 ")]),_:1}),e(i,{size:"sm",onClick:N},{default:a(()=>[f(" 重置 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),v("div",ce,[e(J,{page:h,columns:C.value,height:"100%",loading:g.value,"default-toolbar":!0,"data-source":j.value,"selected-keys":y.value,"onUpdate:selectedKeys":l[3]||(l[3]=t=>y.value=t),onChange:b,onSortChange:P},{filePath:a(({row:t})=>[v("a",me,w(t.filePath),1)]),toolbar:a(()=>[e(i,{size:"sm",type:"primary",onClick:k},{default:a(()=>[e(x,{class:"layui-icon-upload-drag"}),f(" 上传 ")]),_:1}),e(i,{size:"sm",onClick:V},{default:a(()=>[e(x,{class:"layui-icon-delete"}),f(" 删除 ")]),_:1})]),operator:a(({row:t})=>[e(i,{size:"xs",border:"green","border-style":"dashed",onClick:pe=>S(t)},{default:a(()=>[f("下载")]),_:2},1032,["onClick"]),e(E,{content:"确定要删除此文件吗?",onConfirm:B,onCancel:K},{default:a(()=>[e(i,{size:"xs",border:"red","border-style":"dashed"},{default:a(()=>[f("删除")]),_:1})]),_:1})]),_:1},8,["page","columns","loading","data-source","selected-keys"])]),e(A,{modelValue:p.value,"onUpdate:modelValue":l[5]||(l[5]=t=>p.value=t),title:"导入文件",area:["380px","380px"]},{default:a(()=>[e($,{beforeUpload:U,style:{margin:"60px"},url:"https://www.mocky.io/v2/5cc8019d300000980a055e76",modelValue:_.value,"onUpdate:modelValue":l[4]||(l[4]=t=>_.value=t),field:"file",auto:!1,drag:!0},{preview:a(()=>{var t;return[f(w((t=_.value[0])==null?void 0:t.name),1)]}),_:1},8,["modelValue"]),re]),_:1},8,["modelValue"])]),_:1})}}}),je=de(ue,[["__scopeId","data-v-c8903a23"]]);export{je as default};
