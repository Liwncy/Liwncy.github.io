import{j as S,d as C,A as W,z as D,B as y,k as l,a as s,m as n,g as i,C as o,t as h,D as f,F as g,G as N,q as T}from"./index-2582b004.js";const F={key:0,class:"lay-progress-circle"},V=["viewBox","width","height"],_=["d"],L=["d"],M={key:0,class:"layui-progress-text lay-progress-circle__text"},P={class:"layui-progress-bar-container"},q={key:0,class:"layui-progress-text"},E=S(C({name:"LayProgress",__name:"index",props:{percent:{},theme:{default:""},color:{},size:{default:"md"},showText:{type:Boolean},text:{},circle:{type:Boolean,default:!1},circleSize:{default:150},circleWidth:{default:6},animated:{type:Boolean},animationDuration:{default:3e3},indeterminate:{type:Boolean}},setup(x){W(e=>({"73ace339":$.value,"327d4ca7":v.value}));const t=x,u=e=>{switch(e){case"red":return"#ff5722";case"orange":return"#ffb800";case"green":return"#009688";case"cyan":return"#2f4056";case"blue":return"#1e9fff";case"black":return"#393d49";case"gray":return"#fafafa";default:return"#5FB878"}};D(()=>t.percent,()=>p(),{deep:!0});const p=()=>{const e={percent:0,theme:t.theme,color:t.color,showText:t.showText,text:t.text};return t.indeterminate?[{...e,percent:100}]:y(t.percent)?t.percent.map(r=>({...e,...r,percent:Number(r.percent)})):[{...e,percent:Number(t.percent)}]},d=l(()=>p()),v=l(()=>`${t.animationDuration??3e3}ms`),k=l(()=>d.value.map(e=>e.percent).reduce((e,r)=>e+r,0)),$=l(()=>`${k.value}%`),b=l(()=>d.value.map((e,r)=>{const a=d.value.map(c=>Number(c.percent)).slice(0,r).reduce((c,B)=>c+B,0);return{left:`${a}%`,width:`${100-a>e.percent?e.percent:100-a}%`,backgroundColor:e.color??u(e.theme)}})),w=l(()=>t.color??u(t.theme)),z=l(()=>{if(y(t.percent))return;let e=Number(t.percent),r=t.circleSize/2-t.circleWidth/2,a=2*Math.PI*r;return`${e/100*a}px ${a}px`}),m=l(()=>{let e=t.circleSize,r=t.circleWidth;return`M ${e/2} ${e/2} m 0, -${(e-r)/2} a ${(e-r)/2}, ${(e-r)/2} 0 1, 1 0, ${e-r} a ${(e-r)/2}, ${(e-r)/2} 0 1, 1 0, -${e-r}`});return(e,r)=>e.circle?(s(),n("div",F,[(s(),n("svg",{viewBox:`0 0 ${e.circleSize} ${e.circleSize}`,width:e.circleSize,height:e.circleSize},[i("path",{d:m.value,style:o([{fill:"none",stroke:"var(--global-neutral-color-3)"},{strokeWidth:`${e.circleWidth}px`}])},null,12,_),i("path",{d:m.value,style:o([{fill:"none","stroke-linecap":"round"},{strokeDasharray:z.value,stroke:w.value,strokeWidth:`${e.circleWidth}px`}])},null,12,L)],8,V)),e.showText?(s(),n("div",M,h(e.text?e.text:e.percent+"%"),1)):f("",!0)])):(s(),n("div",{key:1,class:T(["layui-progress",["layui-progress-"+e.size,{"layui-progress-animated":e.animated&&!e.indeterminate,"layui-progress-indeterminate":e.indeterminate}]])},[i("div",P,[e.indeterminate?(s(),n(g,{key:1},[i("div",{style:o({backgroundColor:e.color??u(e.theme)}),class:"layui-progress-infinite-bar1"},null,4),i("div",{style:o({backgroundColor:e.color??u(e.theme)}),class:"layui-progress-infinite-bar2"},null,4)],64)):(s(!0),n(g,{key:0},N(d.value,(a,c)=>(s(),n("div",{class:"layui-progress-bar",style:o(b.value.at(c)),key:c},[a.showText?(s(),n("span",q,h(a.text?a.text:a.percent+"%"),1)):f("",!0)],4))),128))])],2))}}));export{E as q};
